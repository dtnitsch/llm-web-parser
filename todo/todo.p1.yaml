- id: multi_stage_analysis_workflow
  priority: P1
  status: todo
  description: >
    Architect the tool around a multi-stage, deferred-computation workflow
    that allows an LLM to intelligently request more detail on demand.
  details:
    - Create a `minimal` output mode that only saves HTML to cache and extracts
      absolute minimum metadata (e.g., title, description).
    - Create a new `analyze` command that reads from the cache and performs
      expensive parsing and analysis on a user-specified subset of URLs.
  impact: >
    This is the platonic ideal of an LLM-centric workflow. It minimizes
    wasted computation and allows the LLM to act as the "scheduler" for
    expensive analysis.

- id: terse_output_format
  priority: P1
  status: done
  completed: 2026-01-10
  description: >
    Define and implement a v2 `summary` output format that is aggressively
    optimized for token efficiency, based on peer LLM feedback.
  details:
    - Adopt a schema with abbreviated keys (e.g., `u` for url, `et` for tokens).
    - Use arrays for fixed-order distributions (e.g., `cd: [10, 20, 5]` for confidence).
    - Add a `--summary-version` flag (`v1`, `v2`) to maintain backward compatibility.
    - Document the terse schema in the README.
  notes: >
    Implemented with 40% size reduction (381 bytes â†’ 228 bytes per URL).
    Full enum mappings for status, content_type, and extraction_quality.
  impact: >
    Directly reduces API costs and unlocks the ability to analyze more
    documents within the same context window.

- id: summary_field_filtering
  priority: P1
  status: todo
  description: >
    Add --summary-fields flag to allow users to specify which fields to include
    in summary output for further token optimization.
  details:
    - Add `--summary-fields` flag accepting comma-separated field list
    - Examples: "url,tokens,quality" or "url,status,error"
    - Works with both v1 and v2 formats
    - Document in CLI-REFERENCE.md
  impact: >
    Provides 10-15% additional token savings for use cases that only need
    specific fields (e.g., just checking status or token counts).

- id: adaptive_caching
  priority: P1
  status: todo
  description: >
    Enhance the caching system with intelligent, adaptive TTLs based on content
    type, with a user-override mechanism.
  details:
    - On first fetch, detect content type and publication date to assign a
      default cache profile (e.g., Permanent, Stable, Volatile).
    - Allow users to specify their own TTL patterns in the config file, which
      will override the adaptive defaults.
  impact: >
    Improves the intelligence and efficiency of the cache.
